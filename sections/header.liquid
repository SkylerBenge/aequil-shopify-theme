<link rel="stylesheet" href="{{ 'component-list-menu.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-menu-drawer.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-cart-notification.css' | asset_url }}" media="print" onload="this.media='all'">

{%- if section.settings.menu_type_desktop == 'mega' -%}
  <link rel="stylesheet" href="{{ 'component-mega-menu.css' | asset_url }}" media="print" onload="this.media='all'">
{%- endif -%}

<style>
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: {{ section.settings.padding_top }}px 3rem {{ section.settings.padding_bottom }}px 3rem;
  }

  .header__heading-link {
    display: flex;
    align-items: center;
  }

  .header__icons {
    display: flex;
    align-items: center;
    gap: 1.2rem;
  }

  .header__cart-count {
    margin-left: 0.3rem;
  }
</style>

<script src="{{ 'cart-notification.js' | asset_url }}" defer="defer"></script>

{%- liquid
  assign header_tag = 'div'
  if section.settings.sticky_header_type != 'none'
    assign header_tag = 'sticky-header'
  endif
-%}

<{{ header_tag }}
  {% if header_tag == 'sticky-header' %}
    data-sticky-type="{{ section.settings.sticky_header_type }}"
  {% endif %}
  class="header-wrapper color-{{ section.settings.color_scheme }} gradient{% if section.settings.show_line_separator %} header-wrapper--border-bottom{% endif %}"
>
  <header class="header header--{{ section.settings.logo_position }} page-width">

    <!-- Logo (Left) -->
    <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset">
      {%- if settings.logo != blank -%}
        <div class="header__heading-logo-wrapper">
          {%- assign logo_alt = settings.logo.alt | default: shop.name | escape -%}
          {%- assign logo_height = settings.logo_width | divided_by: settings.logo.aspect_ratio -%}
          {% capture sizes %}(max-width: {{ settings.logo_width | times: 2 }}px) 50vw, {{ settings.logo_width }}px{% endcapture %}
          {% capture widths %}{{ settings.logo_width }}, {{ settings.logo_width | times: 1.5 | round }}, {{ settings.logo_width | times: 2 }}{% endcapture %}
          {{
            settings.logo
            | image_url: width: 600
            | image_tag:
              class: 'header__heading-logo motion-reduce',
              widths: widths,
              height: logo_height,
              width: settings.logo_width,
              alt: logo_alt,
              sizes: sizes,
              preload: true
          }}
        </div>
      {%- else -%}
        <span class="h2">{{ shop.name }}</span>
      {%- endif -%}
    </a>

    {% render 'header-mega-menu' %}
    
    <!-- Icons (Right) -->
    <div class="header__icons">
      <!-- Cart Icon -->
      <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart link focus-inset">
        <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
        <svg class="icon icon-cart" aria-hidden="true" focusable="false" viewBox="0 0 20 20">
          <use xlink:href="#icon-cart" />
        </svg>
        <span class="header__cart-count">{{ cart.item_count }}</span>
      </a>
    </div>

  </header>
</{{ header_tag }}>
{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    }
  ]
}
{% endschema %}